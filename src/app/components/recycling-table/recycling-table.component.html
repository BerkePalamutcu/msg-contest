<div class="table-container">
  <mat-form-field class="table-form" appearance="outline">
    <mat-label>Search Recycling Centers</mat-label>
    <input matInput (keyup)="applyFilter($event)"  placeholder="Ex. Mia" #input>
    <mat-icon matPrefix>
      search
    </mat-icon>
  </mat-form-field>

  <mat-expansion-panel
    class="expansion"
    (opened)="panelOpenState = true"
    (closed)="panelOpenState = false">
    <mat-expansion-panel-header>

      <mat-panel-title>
        <mat-icon>
          filter_list
        </mat-icon>
        Filter
      </mat-panel-title>

    </mat-expansion-panel-header>

    <div class="checkbox-container">
      <section class="checkbox-section" [formGroup]="filterOptions">
        <mat-checkbox formControlName="plasticBottles" class="checkbox-item plastic" color="primary">
          Plastic Bottles
        </mat-checkbox>
        <mat-checkbox formControlName="aluminiumCans" class="checkbox-item"  color="primary">
          Aluminium Cans
        </mat-checkbox>
        <mat-checkbox formControlName="metals" class="checkbox-item"  color="primary">
          Metals
        </mat-checkbox>
        <mat-checkbox formControlName="glassContainers" class="checkbox-item"  color="primary">
          Glass Containers
        </mat-checkbox>
        <mat-checkbox formControlName="paperAndCardboard" class="checkbox-item"  color="primary">
          Paper and Cardboard
        </mat-checkbox>
        <mat-checkbox formControlName="electronicWaste" class="checkbox-item"  color="primary">
          Electronic Waste
        </mat-checkbox>
      </section>

      <div class="checkbox-btn-wrapper">
       <button mat-raised-button color="accent" (click)="resetFilters()">Reset</button>
        <button mat-raised-button color="primary" (click)="updateDataSource()">Filter</button>
      </div>
    </div>


  </mat-expansion-panel>

  <div class="table-wrapper">
    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 table">

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td mat-cell *matCellDef="let row">{{row.name}}</td>
      </ng-container>

      <ng-container matColumnDef="location">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Location</th>
        <td mat-cell *matCellDef="let row">{{row.location}}</td>
      </ng-container>

      <ng-container matColumnDef="accepted materials">
        <th mat-header-cell *matHeaderCellDef >Accepted Materials</th>
        <td mat-cell *matCellDef="let row">{{row.acceptedMaterials}}</td>
      </ng-container>

      <ng-container matColumnDef="operating hours">
        <th mat-header-cell *matHeaderCellDef >Operating Hours</th>
        <td mat-cell *matCellDef="let row">{{row.operatingHours}}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">There are no recycling centers
          available yet.
        </td>
      </tr>
    </table>
  </div>

<!--  <ng-container *ngIf="user$ | async as user">-->
<!--    @if(user.role === "ADMIN"){-->
    <div class="actions-wrapper">
      <button mat-raised-button class="admin-btn" color="primary" (click)="openDialog()">
        Add New Recycling Center <mat-icon>recycling</mat-icon>
      </button>
    </div>
<!--    }-->
<!--  </ng-container>-->

</div>
